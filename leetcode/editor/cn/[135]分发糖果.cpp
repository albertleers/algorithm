//è€å¸ˆæƒ³ç»™å­©å­ä»¬åˆ†å‘ç³–æœï¼Œæœ‰ N ä¸ªå­©å­ç«™æˆäº†ä¸€æ¡ç›´çº¿ï¼Œè€å¸ˆä¼šæ ¹æ®æ¯ä¸ªå­©å­çš„è¡¨ç°ï¼Œé¢„å…ˆç»™ä»–ä»¬è¯„åˆ†ã€‚ 
//
// ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œå¸®åŠ©è€å¸ˆç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š 
//
// 
// æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚ 
// ç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­å¿…é¡»è·å¾—æ›´å¤šçš„ç³–æœã€‚ 
// 
//
// é‚£ä¹ˆè¿™æ ·ä¸‹æ¥ï¼Œè€å¸ˆè‡³å°‘éœ€è¦å‡†å¤‡å¤šå°‘é¢—ç³–æœå‘¢ï¼Ÿ 
//
// ç¤ºä¾‹ 1: 
//
// è¾“å…¥: [1,0,2]
//è¾“å‡º: 5
//è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚
// 
//
// ç¤ºä¾‹ 2: 
//
// è¾“å…¥: [1,2,2]
//è¾“å‡º: 4
//è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
//     ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™å·²æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ã€‚ 
// Related Topics è´ªå¿ƒç®—æ³• 
// ğŸ‘ 267 ğŸ‘ 0
#include <numeric>
using namespace std;
//å·¦å³å„æ‰«æä¸€é
//leetcode submit region begin(Prohibit modification and deletion)
class Solution {
public:
    int candy(vector<int>& ratings) {
        int n = ratings.size();
        vector<int>increment(n,1);
        for(int i=1; i<n; i++){
            if(ratings[i]>ratings[i-1]){
                increment[i] = max(increment[i-1] + 1, increment[i]);
            }
        }
        for(int j=n-2; j>=0; j--){
            if(ratings[j]>ratings[j+1]){
                increment[j] = max(increment[j+1]+1, increment[j]);
            }
        }
        return accumulate(increment.begin(), increment.end(), 0);
    }
};
//leetcode submit region end(Prohibit modification and deletion)
int result(){
//    vector<int>ratings = {1, 2, 87, 87, 87, 2, 1};
    vector<int>ratings = {1,3,4,5,2};
    Solution s;
    return s.candy(ratings);
}